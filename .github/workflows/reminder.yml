name: Discord Reminder

on:
  schedule:
    # 5:45 PM háº±ng ngÃ y (UTC+7 â†’ 10:45 UTC)
    - cron: "45 10 * * *"

    # 9:00 AM thá»© 6 (UTC+7 â†’ 02:00 UTC)
    - cron: "0 2 * * 5"

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord message
        env:
          WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK }}
        run: |
          DATE=$(date '+%Y-%m-%d %H:%M')
          DAY=$(date '+%u')

          if [ "$DAY" = "5" ] && [ "$(date '+%H:%M')" = "02:00" ]; then
            MESSAGE="ğŸš¨ğŸš¨ **BIG REMIND** ğŸš¨ğŸš¨
HÃ´m nay lÃ  **Thá»© 6**!
Má»i ngÆ°á»i nhá»› **FULL FILL LOGWORK cho cáº£ tuáº§n** ğŸ’ª"
          else
            MESSAGE="â° **5:45 PM Reminder**
Má»i ngÆ°á»i nhá»› Ä‘iá»n **file report** nhÃ©!"
          fi

          curl -X POST -H "Content-Type: application/json" \
            -d "{\"content\":\"$MESSAGE\"}" \
            $WEBHOOK_URL
